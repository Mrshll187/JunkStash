<div data-ng-controller="primaryController" data-ng-init="refresh()">

	<modal visible="showModal"></modal>
	
	<div class="jumbotron">
		
		 <nav class="navbar navbar-inverse">
		 	<div class="container-fluid">
		    	<div class="navbar-header">
		      		<a class="navbar-brand">JunkStash</a>
		    	</div>
		    	<ul class="nav navbar-nav navbar-right">
		      		<li>
		      			<a data-ng-show="!user" data-ng-click="toggleModal()">
		      				<span class="glyphicon glyphicon-log-in"></span> Login
		      			</a>
	      			</li>
	      			<li data-ng-show="user" class="dropdown">
				        <a class="dropdown-toggle" data-toggle="dropdown">
				        <span class="glyphicon glyphicon-user" style="padding-right:10px"></span> {{user}}
				        <span class="caret"></span></a>
				        <ul class="dropdown-menu">
				        	<li>
				          		<a ><span class="glyphicon glyphicon-log-out"></span> Logout</a>
				        	</li>
				        </ul>
				   </li>
		   	 	</ul>
		  	</div>
		</nav>
		
		<div data-ng-if="result.success===true" class="alert alert-success alert-dismissible" role="alert" style="text-align:center">
  			<button type="button" class="close" data-dismiss="alert" aria-label="Close">
  				<span aria-hidden="true">&times;</span>
  			</button>
  			<strong>{{result.message}}</strong>
		</div>
		
		<div data-ng-if="result.success===false" class="alert alert-danger alert-dismissible" role="alert" style="text-align:center">
  			<button type="button" class="close" data-dismiss="alert" aria-label="Close">
  				<span aria-hidden="true">&times;</span>
  			</button>
  			<strong>{{result.message}}</strong>
		</div>
		
		<div class="input-group" style="padding-bottom: 20px">	
			<input 
				type="text" 
				class="form-control" 
				placeholder="Search Files"
				data-ng-model="inputData">
			 
			<span class="input-group-addon btn btn-danger" data-ng-click="clear()">
				<i class="fa fa-times"></i>
			</span>
		</div>
		
		<table class="table table-striped table-hover" style="border: 2px solid #ccc">
	    	<thead>
		        <tr>
		    		<th>Download</th>
		        	<th>Name</th>
		        	<th>Type</th>
		            <th>Uploaded</th>
		            <th>Size</th>
		            <th>Remove</th>
		        </tr>
	    	</thead>
	    	<tbody>
				<tr data-ng-repeat="message in messages | filter:inputData">
					<td style="padding-left:20px">
						<a href="download/{{message.id}}" download="{{message.name}}">
							<i class="fa fa-arrow-circle-down" style="cursor:pointer"></i>
						</a>
					</td>
					<td>{{message.name}}</td>
					<td>{{message.type}}</td>
					<td>{{message.time}}</td>
					<td>{{message.size}}</td>
					<td data-ng-click="remove(message)" style="text-align:center">
						<i class="fa fa-trash-o" style="cursor: pointer; color:balck"></i>
					</td>
				</tr>
			</tbody>
		</table>
		
		<div style="margin-bottom:10px; text-align:center;">
			<div data-ng-show="!loading">
   				<span class="btn btn-default btn-file">
    				Browse <input type="file" data-file-model="uploadFile">
				</span>
				<button data-ng-show="uploadFile" class="btn btn-success" data-ng-click="upload()">Upload</button>
				<button data-ng-show="!uploadFile" class="btn btn-default" disabled>Upload</button>
    		</div>
    		<div data-ng-show="loading" style="text-align:center">
    			<div style="padding-right:10px">
    				<i class="fa fa-cog fa-spin fa-4x"></i>
   				</div>
   			</div>
		</div>
		
	</div>

</div>