<div data-ng-controller="primaryController" data-ng-init="refresh()">

	<div class="jumbotron">
		
		<div data-ng-if="result.success==false">
			<div class="alert alert-danger" style="text-align:center">
  				<strong>{{result.message}}</strong>
			</div>
		</div>
		
		<div data-ng-if="result.success==true">
			<div class="alert alert-success" style="text-align:center">
  				<strong>{{result.message}}</strong>
			</div>
		</div>
		
		<div class="input-group" style="padding-bottom: 20px">	
			<input 
				type="text" 
				class="form-control" 
				placeholder="Search"
				data-ng-model="inputData">
			 
			<span class="input-group-addon btn btn-primary" data-ng-click="search(inputData)"><i class="fa fa-search"></i></span>
			<span class="input-group-addon btn btn-success" data-ng-click="submit(inputData)"><i class="fa fa-plus"></i></span>
			<span class="input-group-addon btn btn-danger" data-ng-click="clear()"><i class="fa fa-times"></i></span>
		</div>
				
		<table class="table table-striped table-hover" style="border: 2px solid #ccc">
	    	<thead>
		        <tr>
		        	<th>Message</th>
		        	<th>Name</th>
		        	<th>Type</th>
		            <th>Time</th>
		            <th>Size</th>
		            <th></th>
		            <th></th>
		        </tr>
	    	</thead>
	    	<tbody>
				<tr data-ng-repeat="message in messages | filter:inputData">
					<td>{{message.message}}</td>
					<td>{{message.name}}</td>
					<td>{{message.type}}</td>
					<td>{{message.time}}</td>
					<td>{{message.size}}</td>
					<td>
						<a href="download/{{message.id}}" download="{{message.name}}">
							<i class="fa fa-download" style="cursor:pointer;"></i>
						</a>
					</td>
					<td data-ng-click="remove(message)">
						<i class="fa fa-trash-o" style="cursor: pointer;"></i>
					</td>
				</tr>
			</tbody>
		</table>
		
		<div style="margin-bottom:20px">
			<div data-ng-show="!loading">
   				<span class="btn btn-default btn-file">
    				Browse <input type="file" data-file-model="uploadFile">
				</span>
				<button data-ng-show="uploadFile" class="btn btn-success" data-ng-click="upload()">Upload</button>
				<button data-ng-show="!uploadFile" class="btn btn-default" disabled>Upload</button>
    		</div>
    		<div data-ng-show="loading" style="text-align:center">
    			<i class="fa fa-cog fa-spin fa-2x"></i>Uploading...
   			</div>
   			
		</div>
		
	</div>

</div>